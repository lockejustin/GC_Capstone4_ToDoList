@{
    ViewData["Title"] = "To Do List";
}

@model List<ToDo>

<h1>To Do List for @ViewBag.UserName</h1>

<table class="table table-bordered shadow table-hover table-info">
    <tr class="table table-bordered shadow table-hover table-info">
        <th>Task Id</th>
        <th>Task Description</th>
        <th>Due Date</th>
        <th>Completed</th>
        <th></th>
    </tr>

    @foreach (ToDo t in Model)
    {
<tr class="d-table-row">
    <td>@t.TaskId</td>
    <td>@t.TaskDescription</td>
    <td>@t.DueDate.ToShortDateString()</td>
    @if (t.Complete == true)
    {
        <td class="btn-group-toggle">Yes 
            <a href="../ToDoList/UpdateCompletion?id=@t.TaskId">Mark Incomplete</a>
        </td>
    }
    else
    {
        <td class="btn-group-toggle">No 
            <a href="../ToDoList/UpdateCompletion?id=@t.TaskId">Mark Complete</a>
        </td>
    }

    <td class="btn-info">
        <a href="../ToDoList/DeleteTask?id=@t.TaskId">Delete</a>
    </td>
</tr>
    }
</table>

<a href="../ToDoList/AddTask" class="btn-group-vertical">Add New Task</a>
<form action="../ToDoList/ToDoSearch" method="post">
    <input type="text" name="searchString" placeholder="Search by Description" class="form-control mb-4" />
    <input type="submit" value="Search" class="form-control mb-4" />
</form>
